<div id="content" class="main" style="text-align: center;">
    <br>
    <h1 class="component">Fahrt bearbeiten</h1>
    <br/>

    <div class="inner" *ngIf="ride">
        <!--
        <table>
            <tr>
                <td style="text-align: right"><label>Abfahrtsort:</label></td>
                <td><input type="text" value="{{ ride.start }}"></td>
            </tr>
            <tr>
                <td style="text-align: right"> Zielort:</td>
                <td><input type="text" value="{{ ride.destination }}"></td>
            </tr>
            <tr>
                <td style="text-align: right"> Freie Plätze:</td>
                <td><input type="number" value="{{ ride.maxPassengers }}"></td>
            </tr>
            <tr>
                <td style="text-align: right"> Abfahrt: Datum / Zeit :</td>
                <td><input type="date" value="{{ ride.departureDateTime | date:'dd.MM.yyyy' }}"></td>
                <td><input type="time" value="{{ ride.departureDateTime | date:'HH:mm' }}"></td>
            </tr>
        </table>
        -->
        <form [formGroup]="updateRideForm" (ngSubmit)="updateRide()" style="text-align: center">
            <table>
                <tr>
                    <td class="first"><label>Abfahrtsort:</label></td>
                    <td class="second">
                        <input class="strechtInputField" formControlName="start" type="text" value="{{ ride.start }}">
                    </td>

                </tr>
                <tr>
                    <td class="first"><label>Ankunftsort:</label></td>
                    <td class="second">
                        <input class="strechtInputField" formControlName="destination" type="text" value="{{ ride.destination }}">
                    </td>
                </tr>
            </table>
            <br>
            <table>
                <tr>
                    <td><h2>Hinfahrt</h2></td>
                    <td>
                        <input type="checkbox" id="toAndReturnCheckBox" formControlName="returnRide"
                               value="{{ride.returnDepartureDate}}"> Hin- und Rückfahrt
                    </td>
                </tr>
                <tr>
                    <td class="first"><label>Abfahrtsdatum:</label></td>
                    <td class="second">
                        <input formControlName="departureDate" type="date"
                               value="{{ ride.departureDateTime | date:'dd.MM.yyyy' }}" min="">
                    </td>

                    <td class="third">
                        <!--
                        <small class="error-message"
                               [hidden]="createRideForm.controls.departureDate.valid || (createRideForm.controls.departureDate.pristine && !submitted)">
                            ungültiges Abfahrtsdatum
                        </small>
                        -->
                    </td>
                </tr>
                <tr>
                    <td class="first"><label>Uhrzeit:</label></td>
                    <td class="second">
                        <input formControlName="departureHour" type="number" min="0" max="23"
                               step="1" value="{{ ride.departureDateTime | date:'HH' }}">&nbsp;:
                        <input formControlName="departureMinute" type="number" min="0" max="55" step="5"
                               value="{{ ride.departureDateTime | date:'mm' }}">
                    </td>
                    <td class="third">
                        <!--
                        <small class="error-message" [hidden]="createRideForm.controls.departureHour.valid || (createRideForm.controls.departureHour.pristine && !submitted)
                                                   && createRideForm.controls.departureMinute.valid || (createRideForm.controls.departureMinute.pristine && !submitted)">
                            ungültige Uhrzeit
                        </small>
                        -->
                    </td>
                </tr>
            </table>
            <br>
            <div *ngIf="getReturnRide()">
                <table>
                    <tr class="returnFormRow">
                        <td><h2>Rückfahrt</h2></td>
                    </tr>
                    <tr class="returnFormRow">
                        <td class="first"><label>Abfahrtsdatum:</label></td>
                        <td class="second">
                            <input formControlName="returnDepartureDate" type="date"
                                   value="{{ ride.returnDepartureDateTime | date:'dd.MM.yyyy' }}" min="">
                        </td>
                        <td class="third">
                            <!--
                            <small class="error-message"
                                   [hidden]="createRideForm.controls.returnDepartureDate.valid || (createRideForm.controls.returnDepartureDate.pristine && !submitted)">
                                ungültiges Abfahrtsdatum
                            </small>
                            -->
                        </td>
                    </tr>
                    <tr>
                        <td class="first"><label>Uhrzeit:</label></td>
                        <td class="second">
                            <input formControlName="returnDepartureHour" type="number" min="0" max="23"
                                   step="1" value="{{ ride.returnDepartureDateTime | date:'HH' }}">&nbsp;:
                            <input formControlName="returnDepartureMinute" type="number" min="0" max="55" step="5"
                                   value="{{ ride.returnDepartureDateTime | date:'mm' }}">
                        </td>
                        <td class="third">
                            <!--
                            <small class="error-message" [hidden]="createRideForm.controls.returnDepartureHour.valid || (createRideForm.controls.returnDepartureHour.pristine && !submitted)
                                                   && createRideForm.controls.returnDepartureMinute.valid || (createRideForm.controls.returnDepartureMinute.pristine && !submitted)">
                                ungültige Uhrzeit
                            </small>
                            -->
                        </td>
                    </tr>
                </table>
            </div>
            <br>
            <br>
            <div>
                <table>
                    <tr>
                        <td class="first">Freie Plätze</td>
                        <td class="second">
                            <input type="number" formControlName="maxPassengers" value="{{ ride.maxPassengers }}">
                        </td>
                        <td class="third"></td>
                    </tr>
                </table>
            </div>
            <br/>
            <div>
                Bemerkung (max 400 Zeichen)
                <textarea formControlName="notes" rows="6" cols="50" maxlength="400"
                          value="{{ ride.notes }}"></textarea>
            </div>
            <br/>
            <button type="submit" class="btn" [disabled]="submitDisabled">Speichern</button>
        </form>
        <input type="button" class="btn" value="Abbrechen" (click)="goToDetails(ride)">
    </div>
    <br>
</div>